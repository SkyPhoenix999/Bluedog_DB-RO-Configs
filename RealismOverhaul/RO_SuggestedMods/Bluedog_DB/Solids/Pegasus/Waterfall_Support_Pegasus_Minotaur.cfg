//	================================================================================
//	RO Waterfall Configs
//	================================================================================


// M55A1
@PART[bluedog_Minotaur1_M55A1]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!MODULE[ModuleWaterfallFX] {}
	ROWaterfall
	{
		template = rowaterfall-hybrid-srm-1
		useHybrid = true
		audio = srm-2
		position = 0,0,0
		rotation = 0, 0, 0
		scale = 0.88, 0.88, 1
		glow = ro-srm
	}
}


// Orion 50XL
@PART[bluedog_Pegasus_Orion50XL]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!MODULE[ModuleWaterfallFX] {}
	ROWaterfall
	{
		template = rowaterfall-srm-vac-1
		audio = srm-1
		position = 0,0,0.08
		rotation = 0, 0, 0
		scale = 0.432, 0.432, 0.432
		ExtraTemplate
		{
			template = rowaterfall-glow-srm
			position = 0,0,0.08
			rotation = 0, 0, 0
			scale = 0.739, 0.739, 1.5
		}
	}
}


// SR19
@PART[bluedog_Minotaur1_SR19]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!MODULE[ModuleWaterfallFX]:HAS[#moduleID[SR19]] {}
	!MODULE[ModuleWaterfallFX]:HAS[#moduleID[SR19rcs]] {}
	MODULE
	{
		name = ModuleWaterfallFX
		moduleID = SR19
		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = throttle
			linkedTo = throttle
		}
		CONTROLLER
		{
			name = random
			linkedTo = random
			range = 0,1
		}
		CONTROLLER
		{
			name = Random2
			linkedTo = random
			noiseType = perlin
			scale = 0.5
			minimum = -0.5
			speed = 10
			seed = 40
		}
		TEMPLATE
		{
			templateName = rowaterfall-hybrid-srm-1
			overrideParentTransform = thrustTransform
			position = 0,0,0.31
			rotation = 0, 0, 0
			scale = 1.72, 1.72, 1.72
		}
		TEMPLATE
		{
			templateName = rowaterfall-glow-srm
			overrideParentTransform = thrustTransform
			position = 0,0,0.31
			rotation = 0, 0, 0
			scale = 1.05, 1.05, 1.5
		}
	}
	MODULE
	{
		name = ModuleWaterfallFX
		moduleID = SR19rcs
		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = rcs
			linkedTo = rcs
			thrusterTransformName = rcsTransform
		}
		TEMPLATE
		{
			templateName = BDB_RCS_small_1
			overrideParentTransform = rcsTransform
			position = 0.005,-0.03,0
			rotation = 0, 0, 195
			scale = 0.4, 1.28, 0.6
		}
	}
}


// SR73
@PART[bluedog_Minuteman_SR73]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!MODULE[ModuleWaterfallFX] {}
	ROWaterfall
	{
		template = rowaterfall-srm-vac-1
		audio = srm-1
		position = 0,0,0
		rotation = 0, 0, 0
		scale = 0.384, 0.384, 0.384
		ExtraTemplate
		{
			template = rowaterfall-glow-srm
			position = 0,0,0
			rotation = 0, 0, 0
			scale = 0.653, 0.653, 1
		}
	}
}


// PSRE
@PART[bluedog_Minuteman_PSRE]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!EFFECTS {}
	!MODULE[ModuleWaterfallFX],* {}
	MODULE
	{
		name = ModuleWaterfallFX
		moduleID = PSRE_Main
		version = FixedRampRates
		ATMOSPHEREDENSITYCONTROLLER
		{
			name = atmosphereDepth
		}
		THRUSTCONTROLLER
		{
			engineID = basicEngine
			name = throttle
		}
		RANDOMNESSCONTROLLER
		{
			range = 0,1
			noiseType = random
			scale = 1
			minimum = 0
			speed = 1
			name = random
		}
		TEMPLATE
		{
			templateName = waterfall-hypergolic-white-upper-1
			overrideParentTransform = thrustTransform
			position = 0,0,0.005
			rotation = 0, 0, 0
			scale = 0.18, 0.18, 0.18
		}
		TEMPLATE
		{
			templateName = rowaterfall-glow-hypergolic-white
			overrideParentTransform = thrustTransform
			position = 0,0,0.005
			rotation = 0, 0, 0
			scale = 0.193, 0.193, 0.2
		}
	}
	MODULE
	{
		name = ModuleWaterfallFX
		moduleID = PSRE_RCS
		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = rcs
			linkedTo = rcs
			thrusterTransformName = rcsTransform
		}
		TEMPLATE
		{
			templateName = BDB_RCS_small_1
			overrideParentTransform = rollTransform
			position = 0,-0.03,0
			rotation = 0, 0, 180
			scale = 0.6, 0.6, 0.6
		}
		TEMPLATE
		{
			templateName = BDB_RCS_small_1
			overrideParentTransform = pitchTransform
			position = 0,-0.03,0
			rotation = 0, 0, 180
			scale = 0.6, 0.6, 0.6
		}
		TEMPLATE
		{
			templateName = BDB_RCS_small_1
			overrideParentTransform = yawTransform
			position = 0,-0.03,0
			rotation = 0, 0, 180
			scale = 0.6, 0.6, 0.6
		}
	}
}


// Orion 38
@PART[bluedog_Pegasus_Orion38]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!MODULE[ModuleWaterfallFX] {}
	ROWaterfall
	{
		template = rowaterfall-srm-vac-1
		audio = srm-1
		position = 0,0,-0.045
		rotation = 0, 0, 0
		scale = 0.28, 0.28, 0.28
		ExtraTemplate
		{
			template = rowaterfall-glow-srm
			position = 0,0,-0.045
			rotation = 0, 0, 0
			scale = 0.476, 0.476, 0.7
		}
	}
}


// Orion 50SXL
@PART[bluedog_Pegasus_Orion50SXL]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!MODULE[ModuleWaterfallFX] {}
	ROWaterfall
	{
		template = rowaterfall-hybrid-srm-1
		useHybrid = true
		audio = srm-2
		position = 0,0,0
		rotation = 0, 0, 0
		scale = 2.15, 2.15, 2.15
		ExtraTemplate
		{
			template = rowaterfall-glow-srm
			position = 0,0,0
			rotation = 0, 0, 0
			scale = 1.32, 1.32, 2
		}
	}
}


// Pegasus/Minotaur Avionics
@PART[bluedog_Pegasus_Avionics]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!EFFECTS {}
	!MODULE[ModuleWaterfallFX],* {}
	EFFECTS
	{
		rcs
		{
			AUDIO_MULTI
			{
				channel = Ship
				transformName = rcsTransform
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 0.1 0.0
				volume = 0.5 0.025
				volume = 1.0 0.2
				pitch = 0.0 0.75
				pitch = 1.0 1.5
				loop = true
			}
		}
	}
	MODULE
	{
		name = ModuleWaterfallFX
		moduleID = Pegasus_RCS
		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = rcs
			linkedTo = rcs
			thrusterTransformName = rcsTransform
		}
		TEMPLATE
		{
			templateName = BDB_RCS_small_1
			overrideParentTransform = rcsTransform
			position = 0,0,0
			rotation = 0, 0, 180
			scale = 0.4, 0.6, 0.4
		}
	}
}
